{"filter":false,"title":"grouped-bar.html","tooltip":"/week-7/practice-text-exercises/grouped-bar.html","undoManager":{"mark":12,"position":12,"stack":[[{"start":{"row":0,"column":0},"end":{"row":71,"column":9},"action":"insert","lines":["<script>","","// set the dimensions and margins of the graph","var margin = {top: 10, right: 30, bottom: 20, left: 50},","    width = 460 - margin.left - margin.right,","    height = 400 - margin.top - margin.bottom;","","// append the svg object to the body of the page","var svg = d3.select(\"#my_dataviz\")","  .append(\"svg\")","    .attr(\"width\", width + margin.left + margin.right)","    .attr(\"height\", height + margin.top + margin.bottom)","  .append(\"g\")","    .attr(\"transform\",","          \"translate(\" + margin.left + \",\" + margin.top + \")\");","","// Parse the Data","d3.csv(\"https://raw.githubusercontent.com/m0llyc00k/dvia/master/SOTU-DATA-VIETNAM-simple.csv\", function(data) {","","  // List of subgroups = header of the csv files = soil condition here","  var subgroups = data.columns.slice(1)","","  // List of groups = species here = value of the first column called group -> I show them on the X axis","  var groups = d3.map(data, function(d){return(d.word)}).keys()","","  // Add X axis","  var x = d3.scaleBand()","      .domain(groups)","      .range([0, width])","      .padding([0.2])","  svg.append(\"g\")","    .attr(\"transform\", \"translate(0,\" + height + \")\")","    .call(d3.axisBottom(x).tickSize(0));","","  // Add Y axis","  var y = d3.scaleLinear()","    .domain([0, 40])","    .range([ height, 0 ]);","  svg.append(\"g\")","    .call(d3.axisLeft(y));","","  // Another scale for subgroup position?","  var xSubgroup = d3.scaleBand()","    .domain(subgroups)","    .range([0, x.bandwidth()])","    .padding([0.05])","","  // color palette = one color per subgroup","  var color = d3.scaleOrdinal()","    .domain(subgroups)","    .range([\"#98abc5\", \"#9c98c5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\", \"#76cfc5\"])","","  // Show the bars","  svg.append(\"g\")","    .selectAll(\"g\")","    // Enter in data = loop group per group","    .data(data)","    .enter()","    .append(\"g\")","      .attr(\"transform\", function(d) { return \"translate(\" + x(d.word) + \",0)\"; })","    .selectAll(\"rect\")","    .data(function(d) { return subgroups.map(function(key) { return {key: key, value: d[key]}; }); })","    .enter().append(\"rect\")","      .attr(\"x\", function(d) { return xSubgroup(d.key); })","      .attr(\"y\", function(d) { return y(d.value); })","      .attr(\"width\", xSubgroup.bandwidth())","      .attr(\"height\", function(d) { return height - y(d.value); })","      .attr(\"fill\", function(d) { return color(d.key); });","","})","","</script>"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["\\"],"id":2},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["\\"]}],[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"remove","lines":["\\"],"id":3},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["\\"]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["<!DOCTYPE html>","<meta charset=\"utf-8\">","","<!-- Load d3.js -->","<script src=\"https://d3js.org/d3.v4.js\"></script>","","<!-- Create a div where the graph will take place -->","<div id=\"my_dataviz\"></div>",""],"id":5}],[{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"remove","lines":["4"],"id":8}],[{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"insert","lines":["6"],"id":9}],[{"start":{"row":14,"column":13},"end":{"row":14,"column":14},"action":"remove","lines":["6"],"id":10},{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"remove","lines":["6"]}],[{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"insert","lines":["9"],"id":11},{"start":{"row":14,"column":13},"end":{"row":14,"column":14},"action":"insert","lines":["0"]},{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"insert","lines":["0"]}],[{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"remove","lines":["0"],"id":12},{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"remove","lines":["0"]},{"start":{"row":14,"column":13},"end":{"row":14,"column":14},"action":"remove","lines":["0"]},{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"remove","lines":["9"]}],[{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"insert","lines":["1"],"id":13},{"start":{"row":14,"column":13},"end":{"row":14,"column":14},"action":"insert","lines":["0"]},{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"insert","lines":["0"]},{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"insert","lines":["0"]}],[{"start":{"row":27,"column":8},"end":{"row":27,"column":92},"action":"remove","lines":["https://raw.githubusercontent.com/m0llyc00k/dvia/master/SOTU-DATA-VIETNAM-simple.csv"],"id":14}],[{"start":{"row":27,"column":8},"end":{"row":27,"column":94},"action":"insert","lines":["https://raw.githubusercontent.com/m0llyc00k/dvia/master/sotu-vietnam-data-simple-2.csv"],"id":15}],[{"start":{"row":61,"column":0},"end":{"row":65,"column":23},"action":"insert","lines":["  legend.append(\"rect\")","      .attr(\"x\", width - 19)","      .attr(\"width\", 19)","      .attr(\"height\", 19)","      .attr(\"fill\", z);"],"id":16}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":39},"end":{"row":14,"column":39},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1635037197466,"hash":"aff0a2e7a1cd25f86fdcace69fef439a0d40fce8"}